Twitter Corpus
==============

2020-09-22

Corpus composition
------------------

Collecting all tweets generated by all lawmakers from congresses 115 &
116 (3 January 2017 to present day) in one fell swoop is not possible
via the Twitter API. Ideally, we would have been piecing together a
daily corpus via some type of automated process from the get-go.

We got a late start, but now we use the R package `rtweet` to [do just
that](). Older tweets, however, (here, those generated before June 2020)
have been obtained from [the George Washington University (GWU)
Library](https://tweetsets.library.gwu.edu/), which makes available
Tweet IDs for tweets generated by US lawmakers by congress & chamber.
Tweets were then “hydrated” (!) using a nifty application developed and
made publicly availabe from
[DocNow](https://github.com/DocNow/hydrator).

Descriptives
------------

``` r
korpus <- load_lawmaker_tweets()

xsum1 <- korpus %>%
  mutate(tokens = tokenizers::count_words(text),
         yr = gsub('-.*', '', created_at))

xsum2 <- xsum1 %>%
  group_by(congress, yr) %>%
  summarise(tweets = n(),
            tokens = sum(tokens),
            handles = length(unique(toupper(screen_name))),
            ave = round(tokens/tweets, 1),
            dates = paste0(min(created_at), ' :: ', max(created_at))) %>%
  mutate(tweets = formatC(tweets, big.mark = ','),
         tokens = formatC(tokens, big.mark = ','))

xsum2 %>% knitr::kable()
```

|  congress| yr   | tweets  | tokens     |  handles|   ave| dates                    |
|---------:|:-----|:--------|:-----------|--------:|-----:|:-------------------------|
|       115| 2017 | 382,281 | 8,101,282  |      513|  21.2| 2017-01-03 :: 2017-12-31 |
|       115| 2018 | 326,864 | 10,606,772 |      510|  32.5| 2018-01-01 :: 2018-12-31 |
|       115| 2019 | 507     | 13,610     |      267|  26.8| 2019-01-01 :: 2019-01-02 |
|       116| 2019 | 354,711 | 12,367,502 |      894|  34.9| 2019-01-03 :: 2019-12-31 |
|       116| 2020 | 293,345 | 10,388,761 |      903|  35.4| 2020-01-01 :: 2020-09-22 |

------------------------------------------------------------------------

1.  Average length of tweets (in words) increased substantially from
    2017 to 2018; presumably a result of Twitter’s increased character
    limit from 140 to 280 at the end of 2017.

2.  Total number of Twitter lawmaker accounts roughly doubled from the
    115th congress to the 116th.

The latter, presumably a function of the inclusion of both office &
campaign Twitter accounts. It is not clear if this is per some
methodological change on the part of GWU, or a result of more lawmakers
in 116 using more than one account.

------------------------------------------------------------------------

``` r
xsum1 %>%
  group_by(congress, yr, created_at) %>%
  summarise(tweets = n(),
            tokens = sum(tokens),
            ers = length(unique(screen_name))) %>%
  ungroup() %>%
  mutate(moving_n = zoo::rollmean(tweets, 
                                  k = 60, 
                                  fill = NA)) %>%
  ggplot() +
  geom_line(aes(x = created_at, 
                y = tweets)) +
  
    geom_line(aes(x = created_at,
                y = moving_n),
            color = 'steelblue',
            #linetype = 2,
            size = 0.75) +
  theme_bw() +
  ggtitle('Total daily tweets: US Congresses 115 & 116')
```

![](corpus-composition_files/figure-markdown_github/unnamed-chunk-3-1.png)
